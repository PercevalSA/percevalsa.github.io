<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Open Windows URL shortcut in Linux - cyberstuff and halfworking projects</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://percevalsa.github.iofavicon.png><link rel=canonical href=https://percevalsa.github.io/posts/open-mswinurl-in-linux/><link rel=stylesheet href=/css/style.min.46f28338320bb2be67d9306169b35cbc1f6c81477c9089ac6b89bc6ff283ffb7.css><link rel=stylesheet href=/assets/css/extended.min.9729f28a5087b689b946e103d96abd63bfd37b1417effa251dbf798312e3fba5.css><meta name=description content="How to automatically open windows URL shortcut in your default browser on GNOME"><meta property="og:title" content="Open Windows URL shortcut in Linux"><meta property="og:type" content="website"><meta property="og:url" content="https://percevalsa.github.io/posts/open-mswinurl-in-linux/"><meta property="og:image" content="https://percevalsa.github.io/images/internet-explorer-11-logo.jpg"><meta property="og:description" content="How to automatically open windows URL shortcut in your default browser on GNOME"><meta name=twitter:card content="summary"><meta name=twitter:site content="PercevalSA"><meta name=twitter:creator content="PercevalSA"></head><body class='page frame page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li class=menu-item-home><a href=https://percevalsa.github.io/>Home</a></li><li class=menu-item-blog><a href=https://percevalsa.github.io/posts/>Blog</a></li></ul></div><div id=wrapper class=wrapper><div class=header><a class=header-logo href=/>cyberstuff and halfworking projects</a><div class=menu-main><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class="menu-item-blog active"><a href=/posts/><span>Blog</span></a></li></ul></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div><div class=blog><div class=intro><h1>Open Windows URL shortcut in Linux<span class=dot>.</span></h1><img alt="Article hero image" src=/images/internet-explorer-11-logo.jpg></div><div class=content><h1 id=introduction>Introduction</h1><p>I am working on a robot project with my brother. We share data (datasheets, pictures&mldr;) in a folder synchronized on dropbox.
He only uses Windows and I am mainly using Linux (debian based distros with GNOME Desktop Environment to be precise).
He tends to use Windows URL files to save web shortcut in a sharable way. But those files are not openable by default in Linux.
I want to open those <code>.url</code> files with a simple double click.</p><p><strong>Here is a way to automatically open Microsoft Windows URL shortcut file in Linux default browser.</strong></p><h2 id=ms-windows-url-shortcut>MS Windows URL shortcut</h2><p>A url file has the <code>.url</code> extension and look like this</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[InternetShortcut]</span>
</span></span><span class=line><span class=cl><span class=na>URL</span><span class=o>=</span><span class=s>https://www.example.com/</span>
</span></span></code></pre></div><h1 id=creating-the-right-application>Creating the right application</h1><p>In order to automatically open <code>.url</code> files we need to create an &ldquo;application&rdquo; in GNOME.
This will be a bash script and and <code>.desktop</code> file.
This will create an &ldquo;open with&rdquo; entry in the selection menu.</p><h2 id=create-executable>create executable</h2><p>Create the bash script in <code>/usr/bin/mswin-urlfile</code> and paste this content</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/usr/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;&#34;</span> <span class=o>]</span> <span class=o>||</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;--help&#34;</span> <span class=o>]</span> <span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;</span><span class=k>$(</span>basename <span class=s2>&#34;</span><span class=nv>$0</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2> URLFILE - opens a .url file in the default browser&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  sed <span class=s1>&#39;s/^BASEURL=/URL=/&#39;</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=p>|</span> grep -m <span class=m>1</span> <span class=s1>&#39;^URL=&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;s/^URL=//&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;s/\r//&#39;</span> <span class=p>|</span> xargs xdg-open
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><p>Then enable execution permission with</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chmod +x /usr/bin/mswin-urlfile
</span></span></code></pre></div><h2 id=create-application-entry>create application entry</h2><p>To create an application entry in GNOME, we need to create a <code>.dekstop</code> file.
create <code>/usr/share/application/winurl.desktop</code> and paste this content</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[Desktop Entry]</span>
</span></span><span class=line><span class=cl><span class=na>Type</span><span class=o>=</span><span class=s>Application</span>
</span></span><span class=line><span class=cl><span class=na>Name</span><span class=o>=</span><span class=s>WinURL</span>
</span></span><span class=line><span class=cl><span class=na>GenericName</span><span class=o>=</span><span class=s>WebBrowser</span>
</span></span><span class=line><span class=cl><span class=na>Icon</span><span class=o>=</span><span class=s>application-x-mswinurl</span>
</span></span><span class=line><span class=cl><span class=na>Comment</span><span class=o>=</span><span class=s>&#34;open msurl file in default browser&#34;</span>
</span></span><span class=line><span class=cl><span class=na>Categories</span><span class=o>=</span><span class=s>Network;Utility;Viewer;WebBrowser</span>
</span></span><span class=line><span class=cl><span class=na>Keywords</span><span class=o>=</span><span class=s>web;url;windows;microsoft;win;ms;</span>
</span></span><span class=line><span class=cl><span class=na>NoDisplay</span><span class=o>=</span><span class=s>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>Exec</span><span class=o>=</span><span class=s>/usr/bin/mswin-urlfile %u</span>
</span></span><span class=line><span class=cl><span class=na>MimeType</span><span class=o>=</span><span class=s>application/x-mswinurl</span>
</span></span></code></pre></div><h2 id=select-our-new-application-to-open-url-files>select our new &ldquo;application&rdquo; to open URL files</h2><ol><li>Find a <code>.url</code> file with the file explorer;</li><li>right click on it and select &ldquo;open with&rdquo;;</li><li>scroll down the list and select &ldquo;WinURL&rdquo;;</li><li>enable &ldquo;Always use for this file type&rdquo; at the bottom;</li><li>finally click on &ldquo;open&rdquo;.</li></ol><p><img src=/images/open-msurl-with.png alt="open with menu"></p><p>Tadam! You can now open all <code>.url</code> files in your default browser by double clicking on it.</p><h1 id=sources>Sources</h1><ul><li><a href=https://askubuntu.com/a/387741/1636114>Open URL files in Linux</a></li><li><a href=https://www.reddit.com/r/linux4noobs/comments/114w615/tutorial_creating_quick_and_dirty_desktop_files/>Creating .desktop files</a></li><li><a href=https://specifications.freedesktop.org/desktop-entry-spec/latest/recognized-keys.html>.desktop specifications</a></li></ul></div></div><div class=footer><div class=footer-social><span class="social-icon social-icon-github"><a href=https://github.com/percevalsa title=github target=_blank rel=noopener><img src=/images/social/github.svg width=24 height=24 alt=github></a></span>
<span class="social-icon social-icon-linkedin"><a href=https://www.linkedin.com/in/perceval-arenou/ title=linkedin target=_blank rel=noopener><img src=/images/social/linkedin.svg width=24 height=24 alt=linkedin></a></span></div></div></div><script type=text/javascript src=/js/bundle.min.5993fcb11c07dea925a3fbd58c03c7f1857197c35fccce3aa963a12c0b3c9960.js></script></body></html>